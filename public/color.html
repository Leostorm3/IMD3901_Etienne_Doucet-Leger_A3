<!DOCTYPE html>
<html>
<head>
    
    <title>Page Title</title>
    
</head>
<body>
    <div  id="test">


    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        
        let socket = io();
        socket.on('connect', function(){
            console.log('connected');
        });

        socket.on('color_change', function(data){
            let colorStr = 'rgb(' + data.r + ','+ data.g +',' + data.b +')';
            console.log('color received ' +colorStr);

            document.body.style.backgroundColor =colorStr;
        });

         socket.on('text_change', function(data){
            let textRec = data.textdata
            var para = document.createElement("p");
            var t = document.createTextNode(textRec);
            var texting = document.getElementById("test");
            console.log('text received ' +textRec);
            para.appendChild(t);
            texting.appendChild(para);
            console.log(texting.childNodes.length);
            if(texting.childNodes.length==6){
                texting.removeChild(texting.childNodes[0]);

            }


            
        });

    
    </script>


</body>
</html>